var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}(),__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Multimedia;(function(n){var t;(function(t){var i=ImageDetailActions.IImageDetailViewType,r=function(n){function r(t){var r=n.call(this,t)||this;return r.enableInsightsV2=!1,r.onExpandCallback=function(){r.enableInsightsV2&&r.props.viewType!=i.DetailL2View&&r.props.changePageView()},r.enableInsightsV2=ImageDetailReducers.getPageConfig().enableInsightsV2,r}return __extends(r,n),r.prototype.render=function(){var n=this.props;return n.items&&n.items.length>0?React.createElement(t.PagesIncluding,__assign({},n,{onExpandCallBack:this.onExpandCallback})):null},r}(React.Component),u=function(n){return{changePageView:function(){n(ImageDetailActions.changePageView(i.DetailL2View))}}},f=function(n,t){return{items:ImageDetailReducers.getInsightsPagesIncludingItems(n,t.insightsId),ig:ImageDetailReducers.getCurrentImpressionId(n),viewType:ImageDetailReducers.getViewType(n)}};n.ImageDetail.PagesIncludingContainer=ReactRedux.connect(f,u)(r);n.ImageDetail.PagesIncludingContainer.displayName="PagesIncludingContainer"})(t=n.ImageDetail||(n.ImageDetail={}))})(Multimedia||(Multimedia={}));__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},function(n){var t;(function(t){function i(n){return n.imageInfo?React.createElement(t.InsightsImageInfo,__assign({},n)):null}var r=function(n,t){return{imageInfo:t.enableMobileView?t.imageInfo:ImageDetailReducers.getCurrentResult(n),ig:ImageDetailReducers.getCurrentImpressionId(n)}};n.ImageDetail.InsightsImageInfoContainer=ReactRedux.connect(r)(i);n.ImageDetail.InsightsImageInfoContainer.displayName="InsightsImageInfoContainer"})(t=n.ImageDetail||(n.ImageDetail={}))}(Multimedia||(Multimedia={}));__extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i])};return function(t,i){function r(){this.constructor=t}n(t,i);t.prototype=i===null?Object.create(i):(r.prototype=i.prototype,new r)}}();__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},function(n){var t;(function(t){var i=function(i){function r(){var n=i!==null&&i.apply(this,arguments)||this;return n.indexBase=0,n.addOrRemoveAnnotation=function(t,i){var r=n.props.selectedAnnotations,u;i?(r||(r=[]),r.push(t)):r&&(u=r.indexOf(t),r.splice(u,1));n.props.changeSelectedAnnotations(r)},n}return __extends(r,i),r.prototype.removeDuplicates=function(n){var t={};return n.filter(function(n){return t.hasOwnProperty(n.text)?!1:t[n.text]=!0})},r.prototype.render=function(){var u=this,r,i;return this.props.items&&this.props.items.length>0?(r=[],this.props.selectedAnnotations&&(r=this.props.selectedAnnotations.map(function(n){return{text:n,isSelected:!0,onclick:u.addOrRemoveAnnotation}})),i=this.props.items.map(function(n){var t=u.props.selectedAnnotations&&u.props.selectedAnnotations.indexOf(n)>=0;return{text:n,isSelected:t,onclick:u.addOrRemoveAnnotation}}),r&&r.length>0&&(i=r.concat(i)),i=this.removeDuplicates(i),React.createElement("div",{id:"annotations"},React.createElement(SharedComponent.Carousel,null,i.map(function(i){return React.createElement(t.ImageAnnotation,__assign({key:n.ImageDetailUtils.getHashCode(i.text+i.isSelected).toString()},i))})))):null},r}(React.Component),r=function(n){return{changeSelectedAnnotations:function(t){t&&n(ImageDetailActions.changeSelectedAnnotations(t))}}},u=function(n,t){return{items:t.enableMobileView?ImageDetailReducers.getInsightsImageTags(n,t.insightsId):ImageDetailReducers.getInsightsImageTags(n),selectedAnnotations:ImageDetailReducers.getSelectedAnnotations(n)}};n.ImageDetail.ImageAnnotationsContainer=ReactRedux.connect(u,r)(i)})(t=n.ImageDetail||(n.ImageDetail={}))}(Multimedia||(Multimedia={}));__assign=this&&this.__assign||Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},function(n){var t;(function(t){function r(i){var u=null,r=ImageDetailReducers.getPagesIncludingCombinerConfig();return r&&r.enableLazyLoad&&(u=function(){var t=n.ImageDetailInsightsUtils.getInsightsPageIncludingRequestConfig(i.insightsRequestConfigProps,r.modules),u;t&&i.loadPageIncluding&&(u=n.ImageDetailInsightsUtils.getFormData(i.insightsRequestConfigProps),i.loadPageIncluding(t,u))}),r&&r.showInFullWindow?React.createElement(t.PagesIncludingCombinerWindow,__assign({},i,{onLazyLoadPageIncluding:u})):React.createElement(t.PagesIncludingCombiner,__assign({},i,{onLazyLoadPageIncluding:u}))}var i=ImageDetailActions.IImageDetailViewType,u=function(n,t){return{isPagesIncludingLazyLoaded:t.enableMobileView?ImageDetailReducers.getPagesIncludingLazyLoadedStatus(n,t.insightsId):ImageDetailReducers.getPagesIncludingLazyLoadedStatus(n),pagesIncludingItems:t.enableMobileView?ImageDetailReducers.getInsightsPagesIncludingItems(n,t.insightsId):ImageDetailReducers.getInsightsPagesIncludingItems(n),shoppingSourcesItems:t.enableMobileView?ImageDetailReducers.getInsightsShoppingSourcesItems(n,t.insightsId):ImageDetailReducers.getInsightsShoppingSourcesItems(n),recipeSourcesItems:t.enableMobileView?ImageDetailReducers.getInsightsRecipesItems(n,t.insightsId):ImageDetailReducers.getInsightsRecipesItems(n),currentDate:ImageDetailReducers.getCurrentDate(n),ig:ImageDetailReducers.getCurrentImpressionId(n),currentImage:t.enableMobileView?t.imageInfo:ImageDetailReducers.getCurrentResult(n),insightsPosition:ImageDetailReducers.getInsightsPosition(n),isInsightsExpanded:ImageDetailReducers.getIsInsightsExpanded(n),isFullScaleView:ImageDetailReducers.getIsFullScaleView(n)}},f=function(n){return{changePageVisiblityTracking:function(t,i){n(ImageDetailActions.changePageVisiblityTracking(t,i))},loadPageIncluding:function(t,i){t&&n(ImageDetailActions.fetchData(t,i))},scrollPagesIncluding:function(t,i){n(ImageDetailActions.scrollPagesIncluding(t,i))},restorePageView:function(){n(ImageDetailActions.changePageView(i.Default))}}};n.ImageDetail.PagesIncludingCombinerContainer=ReactRedux.connect(u,f)(r)})(t=n.ImageDetail||(n.ImageDetail={}))}(Multimedia||(Multimedia={}))